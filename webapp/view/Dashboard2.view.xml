<mvc:View controllerName="QualityPortal.controller.Dashboard2" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:layout="sap.ui.layout"
	xmlns:core="sap.ui.core" xmlns:viz="sap.viz.ui5.controls">
	<Page>
		<customHeader>
			<Bar>
				<contentLeft>
					<Button icon="sap-icon://log" text="Logout" press="onLogout"/>
				</contentLeft>
				<contentMiddle>
					<Title text="Inspection Dashboard - Quality Portal"/>
				</contentMiddle>
				<contentRight>
					<Button text="Next" icon="sap-icon://navigation-right-arrow" press="onNavigateToDashboard3"/>
				</contentRight>
			</Bar>
		</customHeader>
		<content>
			<!-- Filter Bar -->
			<HBox class="sapUiSmallMargin" alignItems="Center" justifyContent="SpaceBetween">
				<Select id="plantSelect" width="250px" change="onFilterChange">
					<items>
						<core:ListItem key="0001" text="Werk 0001" icon="sap-icon://factory"/>
						<core:ListItem key="0003" text="Plant 0003 (is-ht-sw)" icon="sap-icon://building"/>
						<core:ListItem key="1009" text="Kaar" icon="sap-icon://home"/>
						<core:ListItem key="2206" text="Amul" icon="sap-icon://nutrition-activity"/>
						<core:ListItem key="Z001" text="Werk 0001" icon="sap-icon://factory"/>
					</items>
				</Select>
				<Select id="yearSelect" width="150px">
					<core:Item key="2023" text="2023"/>
					<core:Item key="2024" text="2024"/>
					<core:Item key="2025" text="2025"/>
				</Select>
				<Select id="monthSelect" width="150px">
					<core:Item key="" text="All Months"/>
					<core:Item key="01" text="January"/>
					<core:Item key="02" text="February"/>
					<core:Item key="03" text="March"/>
					<core:Item key="04" text="April"/>
					<core:Item key="05" text="May"/>
					<core:Item key="06" text="June"/>
					<core:Item key="07" text="July"/>
					<core:Item key="08" text="August"/>
					<core:Item key="09" text="September"/>
					<core:Item key="10" text="October"/>
					<core:Item key="11" text="November"/>
					<core:Item key="12" text="December"/>
				</Select>
				<Button text="Apply Filter" press="onApplyFilter"/>
			</HBox>
			<!-- KPI Cards -->
			<layout:Grid defaultSpan="L3 M6 S12" class="sapUiMediumMarginTop">
				<Panel headerText="Total Lots" class="cardPanel">
					<VBox class="sapUiSmallMargin">
						<ObjectNumber id="kpiTotal" unit="Lots"/>
					</VBox>
				</Panel>
				<Panel headerText="Approved" class="cardPanel">
					<VBox class="sapUiSmallMargin">
						<ObjectNumber id="kpiApproved" unit="Approved" state="Success"/>
					</VBox>
				</Panel>
				<Panel headerText="Rejected" class="cardPanel">
					<VBox class="sapUiSmallMargin">
						<ObjectNumber id="kpiRejected" unit="Rejected" state="Error"/>
					</VBox>
				</Panel>
				<Panel headerText="In Progress" class="cardPanel">
					<VBox class="sapUiSmallMargin">
						<ObjectNumber id="kpiInProgress" unit="Lots" state="Warning"/>
					</VBox>
				</Panel>
			</layout:Grid>
			<!-- Charts -->
			<layout:Grid id="chartGrid" defaultSpan="L4 M4 S12" class="sapUiMediumMarginTop">
				<Panel class="cardPanel">
					<viz:VizFrame id="chart1" width="100%" height="300px"/>
				</Panel>
				<Panel class="cardPanel">
					<viz:VizFrame id="chart2" width="100%" height="300px"/>
				</Panel>
				<Panel class="cardPanel">
					<viz:VizFrame id="chart3" width="100%" height="300px"/>
				</Panel>
				<Panel class="cardPanel">
					<viz:VizFrame id="chart4" width="100%" height="300px"/>
				</Panel>
				<Panel class="cardPanel">
					<viz:VizFrame id="chart5" width="100%" height="300px"/>
				</Panel>
				<Panel class="cardPanel">
					<viz:VizFrame id="chart6" width="100%" height="300px"/>
				</Panel>
			</layout:Grid>
			<!-- Table -->
			<Panel id="tablePanel" headerText="Inspection Lots Table" class="cardTable sapUiMediumMarginTop">
				<Table id="lotTable" growing="true" growingScrollToLoad="true" items="{lot>/results}" noDataText="No inspection lots found">
					<columns>
						<Column><Text text="Lot No"/></Column>
						<Column><Text text="Material"/></Column>
						<Column><Text text="Qty"/></Column>
						<Column><Text text="Unit"/></Column>
						<Column><Text text="Type"/></Column>
						<Column><Text text="Decision"/></Column>
						<Column><Text text="Start Date"/></Column>
					</columns>
					<items>
						<ColumnListItem>
							<cells>
								<Text text="{lot>inspection_lot}"/>
								<Text text="{lot>material_text}"/>
								<Text text="{lot>quantity}"/>
								<Text text="{lot>unit}"/>
								<Text text="{lot>inspection_type}"/>
								<Text text="{lot>usage_decision}"/>
								<Text text="{path: 'lot>start_date', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'yyyy-MM-dd' }}"/>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</Panel>
		</content>
	</Page>
</mvc:View>